<!DOCTYPE html>
<html lang="ru" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>AKHUENO PROJECT ‚Äî –ù–ê–•–£–ô ‚ù§</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.css">
    <style>
        /* --- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Å–±—Ä–æ—Å —Å—Ç–∏–ª–µ–π --- */
        :root {
            --bg-primary: #000;
            --bg-secondary: #111;
            --fg-primary: #e0e0e0;
            --fg-accent: #ff2d55; /* –Ø—Ä–∫–∏–π —Ä–æ–∑–æ–≤–æ-–∫—Ä–∞—Å–Ω—ã–π */
            --fg-accent-hover: #ff0033; /* –¢–µ–º–Ω–µ–µ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
            --fg-accent-2: #00ffff; /* –Ø—Ä–∫–∏–π –≥–æ–ª—É–±–æ–π */
            --fg-accent-3: #ffff00; /* –Ø—Ä–∫–∏–π –∂–µ–ª—Ç—ã–π */
            --card-bg: rgba(30, 30, 40, 0.85);
            --border-accent: var(--fg-accent);
            --text-gradient: linear-gradient(45deg, var(--fg-accent), var(--fg-accent-2), var(--fg-accent-3));
            --shadow-neon: 0 0 15px var(--fg-accent), 0 0 30px rgba(255, 45, 85, 0.3);
            --shadow-card: 0 8px 32px rgba(0, 0, 0, 0.5);
            --radius: 16px;
            --font-main: 'Arial Black', 'Arial Bold', Gadget, sans-serif;
            --font-mono: 'Courier New', Courier, monospace;
        }
        .light {
            --bg-primary: #fff;
            --bg-secondary: #f0f0f0;
            --fg-primary: #222;
            --fg-accent: #d10022;
            --fg-accent-hover: #a8001a;
            --fg-accent-2: #00aacc;
            --fg-accent-3: #d4af00;
            --card-bg: rgba(250, 250, 255, 0.95);
            --border-accent: var(--fg-accent);
            --shadow-neon: 0 0 15px var(--fg-accent), 0 0 30px rgba(209, 0, 34, 0.3);
            --shadow-card: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.4s, color 0.4s, transform 0.2s, box-shadow 0.2s;
        }
        body {
            background: var(--bg-primary);
            color: var(--fg-primary);
            min-height: 100vh;
            padding: 20px;
            position: relative;
            font-family: var(--font-main);
            overflow-x: hidden; /* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª */
        }
        /* --- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä --- */
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        /* --- –•–µ–¥–µ—Ä / –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (—Ç–æ–ª—å–∫–æ —Ç–µ–º–∞ –∏ —è–∑—ã–∫) --- */
        .header-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }
        /* --- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã --- */
        .theme-toggle {
            position: relative;
            width: 60px;
            height: 34px;
            background: var(--card-bg);
            border: 2px solid var(--border-accent);
            border-radius: 17px;
            cursor: pointer;
            display: flex;
            align-items: center;
            padding: 2px;
            z-index: 100;
        }
        .toggle-thumb {
            width: 26px;
            height: 26px;
            background: var(--fg-accent);
            border-radius: 50%;
            transition: transform 0.3s;
        }
        .light .toggle-thumb {
            transform: translateX(26px);
            background: var(--fg-accent-2);
        }
        /* --- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–∞ --- */
        .lang-selector {
            background: var(--card-bg);
            border: 2px solid var(--border-accent);
            border-radius: var(--radius);
            padding: 5px 10px;
            color: var(--fg-primary);
            font-family: var(--font-main);
            font-size: 1rem;
            cursor: pointer;
            outline: none;
            box-shadow: var(--shadow-neon);
        }
        .lang-selector:focus {
            box-shadow: 0 0 0 3px rgba(255, 45, 85, 0.5);
        }

        /* --- –°–µ–∫—Ü–∏–∏ --- */
        .section {
            display: none;
        }
        .section.active {
            display: block;
            animation: fadeInUp 0.5s ease-out forwards;
        }
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        /* --- –õ–æ–≥–æ—Ç–∏–ø –∏ –∫–Ω–æ–ø–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è --- */
        .hero-section {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: var(--card-bg);
            border-radius: var(--radius);
            border: 1px solid var(--border-accent);
            box-shadow: var(--shadow-card);
            position: relative;
            overflow: hidden;
        }
        .hero-section::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,45,85,0.1) 0%, rgba(0,0,0,0) 70%);
            z-index: -1;
        }
        .logo-wrapper {
            display: block;
            width: 180px;
            height: 180px;
            margin: 0 auto 20px;
            animation: floating 6s ease-in-out infinite;
            cursor: pointer;
            border-radius: 50%;
            overflow: hidden;
            border: 3px solid var(--fg-accent-2);
            box-shadow: 0 0 25px rgba(0, 255, 255, 0.5);
        }
        .logo-wrapper:hover {
            transform: scale(1.05);
            animation: none;
            box-shadow: 0 0 40px rgba(0, 255, 255, 0.8);
        }
        .logo {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-secondary);
        }
        .logo img {
            width: 90%;
            height: 90%;
            object-fit: contain;
            filter: drop-shadow(0 0 10px rgba(255, 0, 85, 0.7));
        }
        @keyframes floating {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

         /* --- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –±–ª–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–Ω–æ–≤—ã–π) --- */
        .central-controls {
            margin: 25px 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        /* --- –ö–Ω–æ–ø–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫–æ—à–µ–ª—å–∫–∞ (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å) --- */
        #ton-connect-button {
            display: block; /* –¢–µ–ø–µ—Ä—å –±–ª–æ—á–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è —Ü–µ–Ω—Ç—Ä–æ–≤–∫–∏ */
            margin: 0 auto; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º */
            max-width: 300px; /* –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º —à–∏—Ä–∏–Ω—É */
        }

        /* --- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ—à–µ–ª—å–∫–µ (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å) --- */
        .wallet-info {
            margin: 20px auto 0; /* –í–µ—Ä—Ö–Ω–∏–π –æ—Ç—Å—Ç—É–ø, —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ */
            max-width: 300px; /* –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —à–∏—Ä–∏–Ω–µ –∫–Ω–æ–ø–∫–∏ */
            padding: 15px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: var(--radius);
            border-left: 4px solid var(--fg-accent);
            opacity: 0;
            height: 0;
            overflow: hidden;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }
        .wallet-info.active {
            opacity: 1;
            height: auto;
            padding: 20px;
        }
        .wallet-address {
            font-family: var(--font-mono);
            font-size: 0.9rem;
            color: var(--fg-accent-2);
            background: rgba(0, 100, 255, 0.1);
            padding: 8px 15px;
            border-radius: 8px;
            /* display: inline-block; - –£–±–∏—Ä–∞–µ–º –∏–ª–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º */
            display: block; /* –¢–µ–ø–µ—Ä—å –≤—Å–µ–≥–¥–∞ –Ω–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–µ */
            margin: 8px 0;
            word-break: break-all;
            border: 1px dashed var(--fg-accent-2);
            text-align: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç –∞–¥—Ä–µ—Å–∞ */
        }
        .token-balance {
            font-size: 1.4rem;
            font-weight: bold;
            color: var(--fg-accent-3);
            margin-top: 10px; /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –æ—Ç—Å—Ç—É–ø –æ—Ç .wallet-address */
            text-shadow: 0 0 8px rgba(255, 255, 0, 0.7);
            background: var(--text-gradient);
            background-clip: text; /* –î–æ–±–∞–≤–ª–µ–Ω–æ */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: block; /* –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ —ç—Ç–æ –±–ª–æ–∫ */
            text-align: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç –±–∞–ª–∞–Ω—Å–∞ */
        }

        /* --- –ó–∞–≥–æ–ª–æ–≤–∫–∏ –∏ —Ç–µ–∫—Å—Ç --- */
        h1 {
            font-size: 2.8rem;
            font-weight: 900;
            text-align: center;
            margin: 15px 0;
            background: var(--text-gradient);
            background-clip: text; /* –î–æ–±–∞–≤–ª–µ–Ω–æ */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 10px rgba(255, 45, 85, 0.3);
        }
        .tagline {
            font-size: 1.2rem;
            color: var(--fg-accent-2);
            opacity: 0.9;
            font-style: italic;
            text-align: center;
            margin: 15px 0 30px;
            padding: 0 10px;
        }
        /* --- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å –¥–ª—è —Ü–µ–Ω—Ç—Ä–æ–≤–∫–∏) --- */
        .nav-buttons {
            text-align: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç –≤–Ω—É—Ç—Ä–∏ */
            margin: 30px 0;
        }
        .nav-btn {
            background: linear-gradient(45deg, var(--fg-accent), var(--fg-accent-2));
            color: white;
            border: none;
            padding: 14px 32px;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            margin: 0 15px; /* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π –æ—Ç—Å—Ç—É–ø */
            box-shadow: var(--shadow-neon);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        .nav-btn::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
        }
        .nav-btn:hover {
            transform: translateY(-3px) scale(1.03);
            box-shadow: 0 0 25px var(--fg-accent), 0 0 40px rgba(255, 45, 85, 0.5);
        }
        .nav-btn:hover::before {
            left: 100%;
        }
        .nav-btn:active {
            transform: translateY(1px) scale(0.98);
        }
        /* --- –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ --- */
        .roadmap {
            margin-top: 30px;
        }
        .era {
            margin: 50px 0 40px;
            position: relative;
        }
        .era::before {
            content: "";
            position: absolute;
            left: 20px;
            top: 0;
            bottom: 0;
            width: 4px;
            background: var(--fg-accent);
            border-radius: 2px;
        }
        .era-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--fg-accent-3);
            text-align: left;
            margin-bottom: 25px;
            padding-left: 40px;
            position: relative;
        }
        .era-title::before {
            content: attr(data-era-icon); /* –ò—Å–ø–æ–ª—å–∑—É–µ–º data-–∞—Ç—Ä–∏–±—É—Ç –¥–ª—è –∏–∫–æ–Ω–∫–∏ —ç–ø–æ—Ö–∏ */
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.8rem;
        }
        .milestone {
            background: var(--card-bg);
            border-left: 5px solid var(--fg-accent-2);
            padding: 22px;
            margin: 20px 0 20px 40px;
            border-radius: 0 var(--radius) var(--radius) 0;
            opacity: 0;
            transform: translateX(-30px);
            animation: slideInRight 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }
        .milestone:nth-child(odd) {
            border-left-color: var(--fg-accent);
        }
        .milestone:nth-child(even) {
            border-left-color: var(--fg-accent-3);
        }
        .light .milestone {
            background: rgba(240, 240, 250, 0.7);
        }
        .milestone:nth-child(n) {
            --delay: calc(0.1s * var(--i));
            animation-delay: var(--delay);
        }
        @keyframes slideInRight {
            to { opacity: 1; transform: translateX(0); }
        }
        .milestone-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--fg-accent);
            margin-bottom: 10px;
            background: var(--text-gradient); /* –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≥—Ä–∞–¥–∏–µ–Ω—Ç */
            background-clip: text; /* –î–æ–±–∞–≤–ª–µ–Ω–æ */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .milestone-date {
            font-size: 0.95rem;
            color: var(--fg-accent-2);
            margin-bottom: 12px;
            font-weight: 500;
        }
        .milestone-desc {
            font-size: 1rem;
            line-height: 1.6;
            color: var(--fg-primary);
            opacity: 0.9;
        }
        /* --- –ö–æ–Ω—Ü–æ–≤–∫–∞ –∏ —Ñ—É—Ç–µ—Ä --- */
        .end-note {
            text-align: center;
            margin-top: 60px;
            font-size: 1.8rem;
            color: var(--fg-accent);
            font-weight: bold;
            text-shadow: 0 0 15px var(--fg-accent);
        }
        .footer {
            text-align: center;
            color: var(--fg-primary);
            opacity: 0.7;
            font-size: 1rem;
            margin-top: 60px;
            padding-top: 25px;
            border-top: 2px dashed var(--fg-accent);
        }
        /* --- –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ --- */
        .error-message {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--fg-accent);
            color: white;
            padding: 14px 28px;
            border-radius: 8px;
            z-index: 1000;
            display: none;
            text-align: center;
            max-width: 90%;
            box-shadow: 0 4px 20px rgba(255, 0, 0, 0.5);
            font-weight: bold;
        }
        /* --- –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å --- */
        @media (max-width: 768px) {
            h1 { font-size: 2.2rem; }
            .logo-wrapper { width: 140px; height: 140px; }
            .nav-btn { display: block; margin: 12px auto; width: 90%; } /* –ö–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É */
            .era-title { padding-left: 30px; font-size: 1.3rem; }
            .milestone { padding: 18px; margin-left: 30px; }
            /* –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ –±–ª–æ–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */
            .central-controls {
                gap: 10px;
            }
            #ton-connect-button,
            .wallet-info {
                max-width: 100%; /* –ü–æ–ª–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
                width: 100%;
            }
        }

        /* --- –°—Ç–∏–ª–∏ –¥–ª—è RTL (—Å–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ) --- */
        html[dir="rtl"] .header-controls {
            flex-direction: row-reverse; /* –ú–µ–Ω—è–µ–º –º–µ—Å—Ç–∞–º–∏ —Ç–µ–º—É –∏ —è–∑—ã–∫ */
        }
        html[dir="rtl"] .era::before {
            left: auto; /* –£–±–∏—Ä–∞–µ–º –ª–µ–≤—É—é –≥—Ä–∞–Ω–∏—Ü—É */
            right: 20px; /* –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–∞–≤—É—é –≥—Ä–∞–Ω–∏—Ü—É */
        }
        html[dir="rtl"] .era-title {
            text-align: right; /* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø–æ –ø—Ä–∞–≤–æ–º—É –∫—Ä–∞—é */
            padding-left: 0; /* –£–±–∏—Ä–∞–µ–º –ª–µ–≤—ã–π –æ—Ç—Å—Ç—É–ø */
            padding-right: 40px; /* –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–∞–≤—ã–π –æ—Ç—Å—Ç—É–ø –¥–ª—è –∏–∫–æ–Ω–∫–∏ */
        }
        html[dir="rtl"] .era-title::before {
            left: auto; /* –ò–∫–æ–Ω–∫–∞ —Å–ª–µ–≤–∞ –æ—Ç —Ç–µ–∫—Å—Ç–∞ (—Å–µ–π—á–∞—Å —Å–ø—Ä–∞–≤–∞ –æ—Ç –±–ª–æ–∫–∞) */
            right: 0;
        }
        html[dir="rtl"] .milestone {
            border-left: none; /* –£–±–∏—Ä–∞–µ–º –ª–µ–≤—É—é –≥—Ä–∞–Ω–∏—Ü—É */
            border-right: 5px solid var(--fg-accent-2); /* –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–∞–≤—É—é –≥—Ä–∞–Ω–∏—Ü—É */
            margin-left: 0; /* –£–±–∏—Ä–∞–µ–º –ª–µ–≤—ã–π –æ—Ç—Å—Ç—É–ø */
            margin-right: 40px; /* –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–∞–≤—ã–π –æ—Ç—Å—Ç—É–ø */
            border-radius: var(--radius) 0 0 var(--radius); /* –ú–µ–Ω—è–µ–º —Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ */
        }
        html[dir="rtl"] .milestone:nth-child(odd) {
            border-right-color: var(--fg-accent); /* –¶–≤–µ—Ç –ø—Ä–∞–≤–æ–π –≥—Ä–∞–Ω–∏—Ü—ã */
        }
        html[dir="rtl"] .milestone:nth-child(even) {
            border-right-color: var(--fg-accent-3); /* –¶–≤–µ—Ç –ø—Ä–∞–≤–æ–π –≥—Ä–∞–Ω–∏—Ü—ã */
        }
        /* –ö–æ—Ä—Ä–µ–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è —Ç–µ–º—ã –≤ RTL */
        html[dir="rtl"] .light .toggle-thumb {
            transform: translateX(-26px); /* –ú–µ–Ω—è–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–¥–≤–∏–≥–∞ */
        }
    </style>
    <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
</head>
<body>
    <div class="error-message" id="errorMessage"></div>
    <div class="container">
        <div class="header-controls">
            <div class="theme-toggle" id="themeToggle"><div class="toggle-thumb"></div></div>
            <select class="lang-selector" id="langSelector">
                <option value="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</option>
                <option value="en">üá¨üáß English</option>
                <option value="ar">üá∏üá¶ ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
                <option value="zh">üá®üá≥ ‰∏≠Êñá</option>
            </select>
        </div>

        <div id="home" class="section active">
            <div class="hero-section">
                <div class="logo-wrapper" id="logoClickable">
                    <div class="logo">
                        <img src="Logo.png" alt="Akhueno Project Logo" onerror="this.onerror=null;this.src='https://via.placeholder.com/160x160/0041f0/ffffff?text=AKHUENO';">
                    </div>
                </div>
                <h1 id="mainTitle" data-i18n="title">AKHUENO PROJECT</h1>
                <p class="tagline" id="taglineText" data-i18n="tagline">–ù–æ–≤–∞—è –≤–µ—Ö–∞ –≤ —Å–æ—Ü–∏–∞–ª—å–Ω–æ-—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö –º–µ–∂–¥—É –ª—é–¥—å–º–∏. –ò–ª–∏ –Ω–µ—Ç. –ù–æ –Ω–∞—Ö—É–π ‚ù§</p>

                <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –±–ª–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
                <div class="central-controls">
                    <div id="ton-connect-button"></div> <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–Ω–æ–ø–∫–∏ TonConnect UI -->
                    <div class="wallet-info" id="walletInfo">
                        <div class="wallet-address" id="walletAddress"></div>
                        <div class="token-balance" id="tokenBalance" data-i18n="loading_balance">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                    </div>
                </div>
                <!-- /–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –±–ª–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->

            </div>

            <div class="nav-buttons">
                <button class="nav-btn" id="roadmapBtn" data-i18n="nav_roadmap">–î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ –ù–∞—Ö—É–π‚ô•Ô∏è</button>
            </div>
            <div class="footer">
                <p id="footerPrediction" data-i18n="footer_prediction">üîÆ –ß–¢–û –ë–£–î–ï–¢ –î–ê–õ–¨–®–ï?</p>
                <p id="footerHeart" data-i18n="footer_heart">–•—É–π –∑–Ω–∞–µ—Ç, –Ω–∞—Ö—É–π ‚ù§</p>
            </div>
        </div>

        <div id="roadmap" class="section">
            <h1 id="roadmapTitle" data-i18n="roadmap_title">üöÄ NAKHUY ROADMAP 2124 EDITION</h1>
            <p id="roadmapSubtitle" data-i18n="roadmap_subtitle">(—Å–æ—Å—Ç–∞–≤–ª–µ–Ω–æ –ø—Ä–∏ –ø–æ–ª–Ω–æ–π –ª—É–Ω–µ, –Ω–∞—Ö—É–π ‚ù§)</p>

            <div class="roadmap">
                <div class="era">
                    <div class="era-title" data-i18n="era_start_title" data-era-icon="üåë">üåë 2025‚Äì2030: –≠–ü–û–•–ê –•–ê–û–¢–ò–ß–ù–û–ì–û –°–¢–ê–†–¢–ê</div>
                    <div class="milestone" style="--i:1">
                        <div class="milestone-title" data-i18n="milestone_blum_title">ü™ô –õ–∏—Å—Ç–∏–Ω–≥ –Ω–∞ Blum</div>
                        <div class="milestone-date" data-i18n="milestone_blum_date">01.06.2025 13:57+3 UTC</div>
                        <div class="milestone-desc" data-i18n="milestone_blum_desc">–ù–∞–∫–æ–Ω–µ—Ü-—Ç–æ –≤—ã —Å–º–æ–∂–µ—Ç–µ –∫—É–ø–∏—Ç—å –Ω–∞—Å –∑–∞ —Å–≤–æ–∏ –∫—Ä–æ–≤–Ω—ã–µ, —Å—É–∫–∞, –Ω–∞—Ö—É–π ‚ù§. –ü–µ—Ä–≤—ã–µ 15 –º–∏–Ω—É—Ç ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ –ø—Ä–æ—Å–Ω—É–ª—Å—è. –û—Å—Ç–∞–ª—å–Ω—ã–µ –æ–ø–æ–∑–¥–∞–ª–∏ –Ω–∞ –≤–µ—á–µ—Ä–∏–Ω–∫—É.</div>
                    </div>
                    <div class="milestone" style="--i:2">
                        <div class="milestone-title" data-i18n="milestone_astro_title">üîÆ –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–¥–µ–ª "Candlesticks vs –ì–æ—Ä–æ—Å–∫–æ–ø—ã"</div>
                        <div class="milestone-date" data-i18n="milestone_astro_date">Q3 2025</div>
                        <div class="milestone-desc" data-i18n="milestone_astro_desc">–ö–∞–∂–¥—ã–π –¥–µ–Ω—å –Ω–æ–≤—ã–π –ø—Ä–æ–≥–Ω–æ–∑: '–ï—Å–ª–∏ –Æ–ø–∏—Ç–µ—Ä –≤ 3-–º –¥–æ–º–µ ‚Äî –∂–¥–∏ –¥–∞–º–ø–∞'. –ê—Å—Ç—Ä–æ–±–æ—Ç—ã –±—É–¥—É—Ç —Å–ª–∞—Ç—å –≤–∞–º –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã –Ω–∞ –ø–æ–∫—É–ø–∫—É/–ø—Ä–æ–¥–∞–∂—É, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–∏ –∑–≤–µ–∑–¥. Mercury in retrograde? HODL, –Ω–∞—Ö—É–π ‚ù§</div>
                    </div>
                    <div class="milestone" style="--i:3">
                        <div class="milestone-title" data-i18n="milestone_academy_title">üè´ Hakhuy Academy</div>
                        <div class="milestone-date" data-i18n="milestone_academy_date">2030, +/- 5 –ª–µ—Ç</div>
                        <div class="milestone-desc" data-i18n="milestone_academy_desc">–ë—É–¥–µ–º —É—á–∏—Ç—å –≤–∞—Å, –∫–∞–∫ –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å –≤—Å–µ –¥–µ–Ω—å–≥–∏ –≤ –∫—Ä–∏–ø—Ç–µ. –ü–µ—Ä–≤—ã–π –∫—É—Ä—Å: '–ö–∞–∫ –¥–µ–ª–∞—Ç—å –≤–∏–¥, —á—Ç–æ —Ç—ã –ø–æ–Ω–∏–º–∞–µ—à—å –≤ –±–ª–æ–∫—á–µ–π–Ω–µ'. –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏ ‚Äî –∞–Ω–æ–Ω–∏–º–Ω—ã–µ —Ç—Ä–µ–π–¥–µ—Ä—ã —Å 10+ –≥–æ–¥–∞–º–∏ –æ–ø—ã—Ç–∞ (–≤ —É–±—ã—Ç–∫–∞—Ö).</div>
                    </div>
                </div>
                <div class="era">
                    <div class="era-title" data-i18n="era_tech_title" data-era-icon="üåò">üåò 2031‚Äì2050: –≠–ü–û–•–ê –¢–ï–•–ù–û–õ–û–ì–ò–ß–ï–°–ö–û–ì–û –ë–ï–ó–£–ú–ò–Ø</div>
                    <div class="milestone" style="--i:4">
                        <div class="milestone-title" data-i18n="milestone_spambot_title">ü§ñ –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–π Mini-App 'SpamBot 3000'</div>
                        <div class="milestone-date" data-i18n="milestone_spambot_date">2032</div>
                        <div class="milestone-desc" data-i18n="milestone_spambot_desc">–≠—Ç–æ—Ç –±–æ—Ç –±—É–¥–µ—Ç —Å–ª–∞—Ç—å –≤–∞–º 150 —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ –¥–µ–Ω—å. –ü—Ä–æ—Å–Ω—É–ª—Å—è? –ù–∞—Ö—É–π ‚ù§, –≤–æ—Ç —Ç–µ–±–µ —Ä–µ–∫–ª–∞–º–∞. –õ–µ–≥ —Å–ø–∞—Ç—å? –ù–∞—Ö—É–π ‚ù§, –≤–æ—Ç —Ç–µ–±—è NFT. –û—Ç–ø–∏—à–µ—à—å—Å—è ‚Äî –±–∞–Ω, –Ω–∞—Ö—É–π.</div>
                    </div>
                    <div class="milestone" style="--i:5">
                        <div class="milestone-title" data-i18n="milestone_democracy_title">‚öñ –°–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç 'Nakhuy Democracy'</div>
                        <div class="milestone-date" data-i18n="milestone_democracy_date">2035</div>
                        <div class="milestone-desc" data-i18n="milestone_democracy_desc">–ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –∑–∞ —Ç–æ, –∫—É–¥–∞ –¥–≤–∏–≥–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ. –í–∞—Ä–∏–∞–Ω—Ç—ã: –∞) –≤—Å—ë –ø—Ä–æ–¥–∞—Ç—å; –±) HODL; –≤) –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω—É. –í—ã–±–∏—Ä–∞–π—Ç–µ, –ø—Å–∏—Ö–∏, –Ω–∞—Ö—É–π ‚ù§</div>
                    </div>
                    <div class="milestone" style="--i:6">
                        <div class="milestone-title" data-i18n="milestone_nft_title">üé® NFT 'Hakhuy OG'</div>
                        <div class="milestone-date" data-i18n="milestone_nft_date">2040</div>
                        <div class="milestone-desc" data-i18n="milestone_nft_desc">10 000 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–∏–∫—Å–µ–ª—å–Ω—ã—Ö –∞—Ä—Ç–æ–≤. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å: –æ–Ω–∏ –±—É–¥—É—Ç –¥–æ—Ä–æ–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤–æ –≤—Ä–µ–º—è —Å–æ–ª–Ω–µ—á–Ω—ã—Ö –∑–∞—Ç–º–µ–Ω–∏–π. –ì–∞—Ä–∞–Ω—Ç–∏—è: 100 –ª–µ—Ç –∏–ª–∏ –≤–∞—à–∏ –¥–µ–Ω—å–≥–∏ –Ω–∞–∑–∞–¥ (–Ω–µ—Ç).</div>
                    </div>
                </div>
                <div class="era">
                    <div class="era-title" data-i18n="era_domination_title" data-era-icon="üåó">üåó 2051‚Äì2080: –≠–ü–û–•–ê –ì–õ–û–ë–ê–õ–¨–ù–û–ì–û –î–û–ú–ò–ù–ò–†–û–í–ê–ù–ò–Ø</div>
                    <div class="milestone" style="--i:7">
                        <div class="milestone-title" data-i18n="milestone_wallet_integration_title">üí∏ Telegram Wallet Integration</div>
                        <div class="milestone-date" data-i18n="milestone_wallet_integration_date">2055</div>
                        <div class="milestone-desc" data-i18n="milestone_wallet_integration_desc">–ü–æ–ø–æ–ª–Ω—è–π –±–∞–ª–∞–Ω—Å, –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—Å–∞–≤ '–¥–∞–π –¥–µ–Ω–µ–≥' –≤ –ª–∏—á–∫—É –±–æ—Ç—É. –ù–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ? –ù–∞—Ö—É–π ‚ù§, –ø–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑.</div>
                    </div>
                    <div class="milestone" style="--i:8">
                        <div class="milestone-title" data-i18n="milestone_ton_partnership_title">ü§ù –ü–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ —Å TON Foundation</div>
                        <div class="milestone-date" data-i18n="milestone_ton_partnership_date">2060</div>
                        <div class="milestone-desc" data-i18n="milestone_ton_partnership_desc">TON –∫ —Ç–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ –∫—É–ø–∏—Ç Google, —Ç–∞–∫ —á—Ç–æ –º—ã –±—É–¥–µ–º –≤–µ–∑–¥–µ. –ü–æ–∏—Å–∫ '–∫–∞–∫ —Ä–∞–∑–±–æ–≥–∞—Ç–µ—Ç—å' –±—É–¥–µ—Ç —Å—Ä–∞–∑—É –≤–µ—Å—Ç–∏ –Ω–∞ –Ω–∞—à —Å–∞–π—Ç, –Ω–∞—Ö—É–π ‚ù§</div>
                    </div>
                    <div class="milestone" style="--i:9">
                        <div class="milestone-title" data-i18n="milestone_grants_title">üí∞ –ì—Ä–∞–Ω—Ç—ã –¥–ª—è –ø—Å–∏—Ö–æ–≤-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</div>
                        <div class="milestone-date" data-i18n="milestone_grants_date">2065</div>
                        <div class="milestone-desc" data-i18n="milestone_grants_desc">–í—ã–¥–µ–ª–∏–º $1 000 000 —Ç–µ–º, –∫—Ç–æ –ø—Ä–∏–¥—É–º–∞–µ—Ç, –∫–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–ª–æ–∫—á–µ–π–Ω –Ω–∞ Nokia 3310. –ù–∞–≥—Ä–∞–¥–∞: –≤–µ—á–Ω–∞—è —Å–ª–∞–≤–∞ –∏ 0,1% –æ—Ç –ø—Ä–æ–µ–∫—Ç–∞.</div>
                    </div>
                </div>
                <div class="era">
                    <div class="era-title" data-i18n="era_space_title" data-era-icon="üåñ">üåñ 2081‚Äì2100: –≠–ü–û–•–ê –ö–û–°–ú–ò–ß–ï–°–ö–û–ì–û –ë–£–î–£–©–ï–ì–û</div>
                    <div class="milestone" style="--i:10">
                        <div class="milestone-title" data-i18n="milestone_mars_staking_title">üöÄ Staking-–ø—É–ª—ã –Ω–∞ –ú–∞—Ä—Å–µ</div>
                        <div class="milestone-date" data-i18n="milestone_mars_staking_date">2085</div>
                        <div class="milestone-desc" data-i18n="milestone_mars_staking_desc">–ü–µ—Ä–≤—ã–µ –ø—É–ª—ã –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –ó–µ–º–ª–∏. APY 1000%, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–∞ –ú–∞—Ä—Å–µ –Ω–µ—Ç –Ω–∞–ª–æ–≥–æ–≤ (–ø–æ–∫–∞ —á—Ç–æ).</div>
                    </div>
                    <div class="milestone" style="--i:11">
                        <div class="milestone-title" data-i18n="milestone_dao_title">üëë DAO 'Nakhuy Governance'</div>
                        <div class="milestone-date" data-i18n="milestone_dao_date">2090</div>
                        <div class="milestone-desc" data-i18n="milestone_dao_desc">–¢–µ–ø–µ—Ä—å —Å–æ–æ–±—â–µ—Å—Ç–≤–æ –º–æ–∂–µ—Ç –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å –∑–∞ —Ç–∞–∫–∏–µ –≤–∞–∂–Ω—ã–µ –≤–µ—â–∏, –∫–∞–∫ —Ü–≤–µ—Ç –ª–æ–≥–æ—Ç–∏–ø–∞ –∏–ª–∏ –∫–∞–∫–æ–π –º–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–º. –í–ª–∞—Å—Ç—å ‚Äî –Ω–∞—Ä–æ–¥—É, –Ω–∞—Ö—É–π ‚ù§</div>
                    </div>
                    <div class="milestone" style="--i:12">
                        <div class="milestone-title" data-i18n="milestone_crosschain_title">.bridge –ö—Ä–æ—Å—Å-—á–µ–π–Ω –º–æ—Å—Ç –ó–µ–º–ª—è-–ú–∞—Ä—Å</div>
                        <div class="milestone-date" data-i18n="milestone_crosschain_date">2095</div>
                        <div class="milestone-desc" data-i18n="milestone_crosschain_desc">–ü–µ—Ä–µ–≤–æ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω—ã –º–µ–∂–¥—É –ø–ª–∞–Ω–µ—Ç–∞–º–∏ –±–µ–∑ –∫–æ–º–∏—Å—Å–∏–π (–∫–æ–º–∏—Å—Å–∏–∏ –≤—Å—ë –∂–µ –±—É–¥—É—Ç, –Ω–∞—Ö—É–π ‚ù§).</div>
                    </div>
                </div>
                <div class="era">
                    <div class="era-title" data-i18n="era_legend_title" data-era-icon="üåï">üåï 2101‚Äì2124: –≠–ü–û–•–ê –õ–ï–ì–ï–ù–î</div>
                    <div class="milestone" style="--i:13">
                        <div class="milestone-title" data-i18n="milestone_meetup_title">üé™ –û—Ñ—Ñ–ª–∞–π–Ω-–º–∏—Ç–∞–ø '–ê—Ö—É–µ–ª–∏?'</div>
                        <div class="milestone-date" data-i18n="milestone_meetup_date">2110</div>
                        <div class="milestone-desc" data-i18n="milestone_meetup_desc">–°–æ–±–µ—Ä—ë–º—Å—è –Ω–∞ –ú–∞—Ä—Å–µ, —á—Ç–æ–±—ã –æ–±—Å—É–¥–∏—Ç—å, –∫–∞–∫ –º—ã –¥–æ —Ç–∞–∫–æ–≥–æ –¥–æ–∫–∞—Ç–∏–ª–∏—Å—å. –í—Ö–æ–¥ ‚Äî 1 ETH –∏–ª–∏ 10 000 NAKHUY.</div>
                    </div>
                    <div class="milestone" style="--i:14">
                        <div class="milestone-title" data-i18n="milestone_referral_title">üë• –†–µ—Ñ–µ—Ä–∞–ª–∫–∞ '–ü—Ä–∏–≤–µ–¥–∏ –∏–Ω–æ–ø–ª–∞–Ω–µ—Ç—è–Ω–∏–Ω–∞'</div>
                        <div class="milestone-date" data-i18n="milestone_referral_date">2115</div>
                        <div class="milestone-desc" data-i18n="milestone_referral_desc">–ó–∞ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω–æ–≥–æ –º–∞—Ä—Å–∏–∞–Ω–∏–Ω–∞ ‚Äî –±–æ–Ω—É—Å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã. –û–Ω–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –Ω–µ –ø–æ–π–º—É—Ç, —á—Ç–æ —ç—Ç–æ, –Ω–∞—Ö—É–π ‚ù§</div>
                    </div>
                    <div class="milestone" style="--i:15">
                        <div class="milestone-title" data-i18n="milestone_exchange_title">üíé –õ–∏—Å—Ç–∏–Ω–≥ –Ω–∞ Intergalactic Exchange</div>
                        <div class="milestone-date" data-i18n="milestone_exchange_date">2124</div>
                        <div class="milestone-desc" data-i18n="milestone_exchange_desc">–ù–∞—Å –¥–æ–±–∞–≤—è—Ç –Ω–∞ –ø–µ—Ä–≤—É—é –º–µ–∂–≥–∞–ª–∞–∫—Ç–∏—á–µ—Å–∫—É—é –±–∏—Ä–∂—É. –ö—É—Ä—Å: 1 NAKHUY = 1 –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞ –∫–∞–∫–æ–π-—Ç–æ –¥–∞–ª—ë–∫–æ–π-–¥–∞–ª—ë–∫–æ–π –≥–∞–ª–∞–∫—Ç–∏–∫–∏.</div>
                    </div>
                </div>
            </div>

            <div class="end-note">
                ‚Üí ‚àû<br><br>
                <span id="finalNote" data-i18n="final_note">–•—É–π –∑–Ω–∞–µ—Ç, –Ω–∞—Ö—É–π ‚ù§</span>
            </div>
            <div class="nav-buttons" style="margin-top:40px">
                <button class="nav-btn" id="backHomeBtn" data-i18n="nav_back_home">‚Üê –ù–∞–∑–∞–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é</button>
            </div>
        </div>
    </div>

    <script>
        const JETTON_MASTER = 'EQA6usPqmsa9I2QHrDUTW_c6xj0v6WPwffyW9uXiwjKBLwBX';
        const TON_CENTER_API = 'https://toncenter.com/api/v2/jsonRPC';

        // --- DOM Elements ---
        const logoClickable = document.getElementById('logoClickable');
        const walletInfo = document.getElementById('walletInfo');
        const walletAddressEl = document.getElementById('walletAddress');
        const tokenBalanceEl = document.getElementById('tokenBalance');
        const errorMessageEl = document.getElementById('errorMessage');
        const themeToggle = document.getElementById('themeToggle');
        const roadmapBtn = document.getElementById('roadmapBtn');
        const backHomeBtn = document.getElementById('backHomeBtn');
        const langSelector = document.getElementById('langSelector');
        // –≠–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ (–¥–æ–±–∞–≤–ª–µ–Ω—ã id –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
        const mainTitle = document.getElementById('mainTitle');
        const taglineText = document.getElementById('taglineText');
        const footerPrediction = document.getElementById('footerPrediction');
        const footerHeart = document.getElementById('footerHeart');
        const roadmapTitle = document.getElementById('roadmapTitle');
        const roadmapSubtitle = document.getElementById('roadmapSubtitle');
        const finalNote = document.getElementById('finalNote');

        // --- State Variables ---
        let tonConnectUI = null; // –û—Å—Ç–∞–≤–ª—è–µ–º –∫–∞–∫ null
        let userAddress = null;
        let currentLang = 'ru';

        // --- Translation Functions ---
        async function loadTranslations(langCode) {
            try {
                const response = await fetch(`langs/${langCode}.json`);
                if (!response.ok) {
                    throw new Error(`Failed to load translation for ${langCode}`);
                }
                return await response.json();
            } catch (error) {
                console.error('Error loading translations:', error);
                if (langCode !== 'ru') {
                    console.warn(`Loading fallback language (ru) for ${langCode}`);
                    return await loadTranslations('ru');
                } else {
                    return {};
                }
            }
        }

        function applyTranslations(translations) {
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                const translationValue = translations[key];
                if (translationValue !== undefined) {
                    element.textContent = translationValue;
                }
            });
            document.title = translations.page_title || 'AKHUENO PROJECT';
            document.documentElement.lang = currentLang;
            document.documentElement.dir = ['ar'].includes(currentLang) ? 'rtl' : 'ltr';
        }

        async function changeLanguage(newLangCode) {
            if (newLangCode !== currentLang) {
                currentLang = newLangCode;
                const translations = await loadTranslations(newLangCode);
                applyTranslations(translations);
                localStorage.setItem('preferredLanguage', newLangCode);
                // –û–±–Ω–æ–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ —è–∑—ã–∫–∞ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
                langSelector.value = newLangCode;
            }
        }

        // --- UI & Logic Functions ---
        function showError(message) {
            errorMessageEl.textContent = message;
            errorMessageEl.style.display = 'block';
            setTimeout(() => {
                errorMessageEl.style.display = 'none';
            }, 5000);
        }

        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(el => el.classList.remove('active'));
            document.getElementById(sectionId).classList.add('active');
            window.scrollTo(0, 0);
        }

        // --- –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø TonConnect (—Ç–µ–ø–µ—Ä—å –±–µ–∑ restoreConnection –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ) ---
        async function initializeTonConnect() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –ª–∏ —É–∂–µ TonConnect UI
            if (tonConnectUI) {
                console.log("TonConnectUI —É–∂–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω.");
                return;
            }

            try {
                console.log("–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è TonConnectUI...");
                tonConnectUI = new TON_CONNECT_UI.TonConnectUI({
                    manifestUrl: 'https://nakhuyproject.github.io/akhueno-project/tonconnect-manifest.json',
                    buttonRootId: 'ton-connect-button'
                });

                // –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π —Å—Ç–∞—Ç—É—Å–∞ –∫–æ—à–µ–ª—å–∫–∞
                tonConnectUI.onStatusChange(async wallet => {
                    if (wallet) {
                        console.log("–ö–æ—à–µ–ª–µ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω:", wallet);
                        userAddress = wallet.account.address;
                        // –û–±–Ω–æ–≤–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç –∞–¥—Ä–µ—Å–∞
                        walletAddressEl.textContent = userAddress;
                        walletInfo.classList.add('active');
                        await fetchJettonBalance(userAddress); // –ó–∞–≥—Ä—É–∂–∞–µ–º –±–∞–ª–∞–Ω—Å –ø–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
                    } else {
                        console.log("–ö–æ—à–µ–ª–µ–∫ –æ—Ç–∫–ª—é—á–µ–Ω");
                        userAddress = null;
                        // –û—á–∏—â–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç –∞–¥—Ä–µ—Å–∞ –ø—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏
                        walletAddressEl.textContent = '';
                        walletInfo.classList.remove('active');
                        // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: —Å–±—Ä–æ—Å–∏—Ç—å –±–∞–ª–∞–Ω—Å
                        tokenBalanceEl.textContent = '–ë–∞–ª–∞–Ω—Å: 0 NAKHUY';
                    }
                });

                // –ü–û–¢–ï–ù–¶–ò–ê–õ–¨–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê: restoreConnection –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫—É –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
                // await tonConnectUI.restoreConnection(); // <-- –ö–æ–º–º–µ–Ω—Ç–∏—Ä—É–µ–º —ç—Ç—É —Å—Ç—Ä–æ–∫—É

            } catch (error) {
                // –ò—Å–∫–ª—é—á–∞–µ–º –æ—à–∏–±–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–∑ –ø–æ–∫–∞–∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
                console.error('–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ TonConnectUI (–Ω–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ):', error);
                // showError('–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫–æ—à–µ–ª—å–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.'); // <-- –£–±–∏—Ä–∞–µ–º –≤—ã–∑–æ–≤ showError –∑–¥–µ—Å—å
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –≤—Ö–æ–¥–µ –Ω–∞ –≥–ª–∞–≤–Ω—É—é
        async function attemptRestoreConnection() {
            if (tonConnectUI) {
                 try {
                    console.log("–ü–æ–ø—ã—Ç–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ...");
                    await tonConnectUI.restoreConnection();
                 } catch (error) {
                    console.info("–ù–µ —É–¥–∞–ª–æ—Å—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (–æ–∂–∏–¥–∞–µ–º–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–≥–æ —Å–µ–∞–Ω—Å–∞):", error.message);
                 }
            } else {
                console.warn("TonConnectUI –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.");
            }
        }


        async function fetchJettonBalance(address) {
            try {
                tokenBalanceEl.textContent = '–ó–∞–≥—Ä—É–∑–∫–∞...'; // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å
                console.log("Fetching balance for address:", address); // –õ–æ–≥ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

                const response1 = await fetch(TON_CENTER_API, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        jsonrpc: '2.0',
                        id: 1,
                        method: 'runGetMethod',
                        params: {
                            address: JETTON_MASTER,
                            method: 'get_wallet_address',
                            stack: [{ type: 'slice', value: address }]
                        }
                    })
                });

                const data1 = await response1.json();
                console.log("Response 1 (get_wallet_address):", data1); // –õ–æ–≥ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

                if (!data1.result?.stack || data1.result.stack.length === 0) {
                    console.error("No result stack for get_wallet_address");
                    tokenBalanceEl.textContent = '–ë–∞–ª–∞–Ω—Å: 0 NAKHUY';
                    return;
                }

                const cellSlice = data1.result.stack[0];
                if (cellSlice.type !== 'cell_slice') {
                    console.error("Unexpected result type for get_wallet_address");
                    tokenBalanceEl.textContent = '–ë–∞–ª–∞–Ω—Å: 0 NAKHUY';
                    return;
                }

                // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞ jetton-wallet –∏–∑ cell_slice
                const addressCell = cellSlice.cell;
                // –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ Cell BOC –≤ –∞–¥—Ä–µ—Å (–ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ —ç—Ç–æ base64 —Å—Ç—Ä–æ–∫–∞)
                const walletAddress = bufferToAddress(addressCell);
                console.log("Calculated Jetton Wallet Address:", walletAddress); // –õ–æ–≥ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

                if (!walletAddress) {
                    console.error("Could not parse jetton wallet address");
                    tokenBalanceEl.textContent = '–ë–∞–ª–∞–Ω—Å: –æ—à–∏–±–∫–∞';
                    return;
                }

                const response2 = await fetch(TON_CENTER_API, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        jsonrpc: '2.0',
                        id: 2,
                        method: 'runGetMethod',
                        params: {
                            address: walletAddress,
                            method: 'get_wallet_data',
                            stack: []
                        }
                    })
                });

                const data2 = await response2.json();
                console.log("Response 2 (get_wallet_data):", data2); // –õ–æ–≥ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

                if (!data2.result?.stack || data2.result.stack.length < 3) {
                     console.error("Insufficient stack length for get_wallet_data");
                     tokenBalanceEl.textContent = '–ë–∞–ª–∞–Ω—Å: –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω';
                     return;
                }

                // –ë–∞–ª–∞–Ω—Å –æ–±—ã—á–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–µ—Ä–≤–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ —Å—Ç–µ–∫–∞ (stack[0])
                const balanceStack = data2.result.stack[0];
                if (balanceStack.type !== 'int') {
                    console.error("Balance stack item is not an integer");
                    tokenBalanceEl.textContent = '–ë–∞–ª–∞–Ω—Å: –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω';
                    return;
                }

                const balanceBigInt = BigInt(balanceStack.value);
                console.log("Raw Balance BigInt:", balanceBigInt); // –õ–æ–≥ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

                // –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º, —á—Ç–æ —Ç–æ–∫–µ–Ω –∏–º–µ–µ—Ç 9 –¥–µ—Ü–∏–º–∞–ª–µ–π (–∫–∞–∫ Ton)
                const balanceNumber = Number(balanceBigInt) / 1e9;
                const formattedBalance = balanceNumber.toLocaleString(undefined, {
                    minimumFractionDigits: 0,
                    maximumFractionDigits: 9
                });
                tokenBalanceEl.textContent = `–ë–∞–ª–∞–Ω—Å: ${formattedBalance} NAKHUY`;

            } catch (error) {
                console.error('Balance fetch error:', error);
                tokenBalanceEl.textContent = '–ë–∞–ª–∞–Ω—Å: –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω';
            }
        }

        // --- Address Conversion Helper --- (–æ—Å—Ç–∞–≤–ª–µ–Ω –∫–∞–∫ –µ—Å—Ç—å)
        function bufferToAddress(cellBocBase64) {
            try {
                const binaryString = atob(cellBocBase64);
                const bytes = new Uint8Array(binaryString.length);
                for (let i = 0; i < binaryString.length; i++) {
                    bytes[i] = binaryString.charCodeAt(i);
                }

                if (bytes.length < 34) {
                    console.error("Cell BOC too short for address extraction");
                    return null;
                }

                const workchain = bytes[0];
                const hashPart = bytes.slice(2, 34);

                let addressBuffer = new Uint8Array([workchain, 0]);
                addressBuffer = new Uint8Array([...addressBuffer, ...hashPart]);

                let addressString = '';
                for (let i = 0; i < addressBuffer.length; i++) {
                    addressString += String.fromCharCode(addressBuffer[i]);
                }

                const base64Url = btoa(addressString)
                    .replace(/\+/g, '-')
                    .replace(/\//g, '_')
                    .replace(/=/g, '');

                return 'EQ' + base64Url;

            } catch (e) {
                console.error("Error converting Cell BOC to address:", e);
                return null;
            }
        }


        // --- Event Listeners ---
        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('light');
            localStorage.setItem('theme', document.body.classList.contains('light') ? 'light' : 'dark');
        });

        roadmapBtn.addEventListener('click', () => showSection('roadmap'));
        backHomeBtn.addEventListener('click', () => showSection('home'));

        langSelector.addEventListener('change', (e) => changeLanguage(e.target.value));

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', async () => {
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–º—ã
            if (localStorage.getItem('theme') === 'light') {
                document.body.classList.add('light');
            }

            // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞
            const tgWebApp = window.Telegram?.WebApp;
            let detectedLang = 'ru';
            if (tgWebApp && tgWebApp.initDataUnsafe && tgWebApp.initDataUnsafe.user) {
                 detectedLang = tgWebApp.initDataUnsafe.user.language_code || 'en';
                 if (['uk', 'be', 'kk'].includes(detectedLang)) detectedLang = 'ru';
                 if (detectedLang.startsWith('zh')) detectedLang = 'zh';
                 if (['ar', 'fa', 'he'].includes(detectedLang)) detectedLang = 'ar';
                 const supportedLangs = ['ru', 'en', 'ar', 'zh'];
                 if (!supportedLangs.includes(detectedLang)) detectedLang = 'en';
            }
            const savedLang = localStorage.getItem('preferredLanguage');
            currentLang = savedLang || detectedLang;
            langSelector.value = currentLang; // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫ –≤ —Å–µ–ª–µ–∫—Ç–æ—Ä–µ

            // –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
            const translations = await loadTranslations(currentLang);
            applyTranslations(translations);

            // –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø TonConnect –ë–ï–ó –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
            await initializeTonConnect();

            // Telegram Web App
            if (tgWebApp) {
                tgWebApp.ready();
                tgWebApp.expand();
            }
        });
    </script>
</body>
</html>